---
import './header.css';
const { origin } = Astro.props;
import Logo from '../Logo.astro';
---

<header class="header">
	<div class="header__container">
		<Logo name="Nicolas Dominici"/>
		<nav class="nav-menu">
			<button class="hamburger" aria-label="Menu">
				<span class="hamburger-line"></span>
				<span class="hamburger-line"></span>
				<span class="hamburger-line"></span>
			</button>
			<ul class="nav-links">
				{
					origin.map((item) => (
						<li>
							<a class="nav-link" href={item.url}>
								<span class="link-content">
									<iconify-icon
										icon={item.icon}
										width="20"
										height="20"
									/>
									{item.content}
								</span>
							</a>
						</li>
					))
				}
			</ul>
		</nav>
	</div>
</header>

<script>
	const hamburger = document.querySelector('.hamburger');
	const navMenu = document.querySelector('.nav-menu');
	const navLinks = document.querySelector('.nav-links');

	hamburger?.addEventListener('click', () => {
		navMenu?.classList.toggle('active');
		navLinks?.classList.toggle('active');
	});

	// Close menu when clicking outside
	document.addEventListener('click', (e) => {
		if (!navMenu?.contains(e.target as Node)) {
			navMenu?.classList.remove('active');
			navLinks?.classList.remove('active');
		}
	});

	// Close menu when clicking a link
	navLinks?.querySelectorAll('a').forEach(link => {
		link.addEventListener('click', () => {
			navMenu?.classList.remove('active');
			navLinks?.classList.remove('active');
		});
	});

	const header = document.querySelector('.header');
	const headerContainer = document.querySelector('.header__container');
	
	window.addEventListener('scroll', () => {
		if (window.scrollY > 100) {
			headerContainer?.classList.add('scrolled');
		} else {
			headerContainer?.classList.remove('scrolled');
		}
	});
</script>
