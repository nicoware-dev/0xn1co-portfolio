import { a as createComponent, r as renderTemplate, m as maybeRenderHead, u as unescapeHTML } from './astro/server_D321Zypn.mjs';
import 'kleur/colors';
import 'clsx';

const html = "<p>Multiplayer gaming is one of the most exciting aspects of modern game development, but it’s often seen as complex and intimidating. With the right tools, though, creating a real-time multiplayer experience is more achievable than you might think. Enter <strong>Node.js</strong> and <strong>WebSockets</strong>—a powerful combination for building games that sync players’ actions in real-time.</p>\n<p>In this guide, we’ll walk you through building a simple multiplayer game, explain key concepts like WebSockets, and demonstrate how to sync game states across clients. By the end, you’ll have the skills to create your own multiplayer game from scratch.</p>\n<hr>\n<h2 id=\"why-use-nodejs-and-websockets-for-multiplayer-games\">Why Use Node.js and WebSockets for Multiplayer Games?</h2>\n<p>Node.js is a great choice for multiplayer games because it’s event-driven and non-blocking, which makes handling multiple simultaneous connections efficient. WebSockets, on the other hand, enable real-time, bidirectional communication between the server and clients—ideal for keeping players’ actions in sync.</p>\n<p><strong>Benefits of Node.js and WebSockets</strong>:</p>\n<ul>\n<li><strong>Real-Time Communication</strong>: Instant updates between players.</li>\n<li><strong>Scalability</strong>: Handles multiple connections efficiently.</li>\n<li><strong>Cross-Platform</strong>: Works seamlessly across browsers and devices.</li>\n</ul>\n<hr>\n<h2 id=\"building-a-basic-multiplayer-game-tic-tac-toe\">Building a Basic Multiplayer Game: Tic-Tac-Toe</h2>\n<p>For this tutorial, we’ll create a simple <strong>tic-tac-toe</strong> game. The goal is to sync the game state between two players in real-time.</p>\n<hr>\n<h3 id=\"step-1-setting-up-your-environment\">Step 1: Setting Up Your Environment</h3>\n<p>First, make sure you have the following installed:</p>\n<ol>\n<li><strong>Node.js</strong>: Download and install from <a href=\"https://nodejs.org/\">nodejs.org</a>.</li>\n<li><strong>A Code Editor</strong>: Visual Studio Code is recommended.</li>\n</ol>\n<p>Create a new project and install the required packages:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\"><code><span class=\"line\"><span style=\"color:#B392F0\">mkdir</span><span style=\"color:#9ECBFF\"> multiplayer-tic-tac-toe</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">cd</span><span style=\"color:#9ECBFF\"> multiplayer-tic-tac-toe</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">npm</span><span style=\"color:#9ECBFF\"> init</span><span style=\"color:#79B8FF\"> -y</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">npm</span><span style=\"color:#9ECBFF\"> install</span><span style=\"color:#9ECBFF\"> express</span><span style=\"color:#9ECBFF\"> ws</span></span>\n<span class=\"line\"></span></code></pre>\n<hr>\n<h3 id=\"step-2-setting-up-the-server\">Step 2: Setting Up the Server</h3>\n<p>We’ll use Express for handling static files and <strong>ws</strong> (WebSocket library) for real-time communication. Create a <code>server.js</code> file:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"javascript\"><code><span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> express</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> require</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'express'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> WebSocket</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> require</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'ws'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> app</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> express</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> server</span><span style=\"color:#F97583\"> =</span><span style=\"color:#B392F0\"> require</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'http'</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">createServer</span><span style=\"color:#E1E4E8\">(app);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> wss</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#E1E4E8\"> WebSocket.</span><span style=\"color:#B392F0\">Server</span><span style=\"color:#E1E4E8\">({ server });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#79B8FF\"> PORT</span><span style=\"color:#F97583\"> =</span><span style=\"color:#79B8FF\"> 3000</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Serve static files</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">app.</span><span style=\"color:#B392F0\">use</span><span style=\"color:#E1E4E8\">(express.</span><span style=\"color:#B392F0\">static</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'public'</span><span style=\"color:#E1E4E8\">));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Handle WebSocket connections</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">wss.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'connection'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">ws</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'A player connected'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ws.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'message'</span><span style=\"color:#E1E4E8\">, (</span><span style=\"color:#FFAB70\">message</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'Received:'</span><span style=\"color:#E1E4E8\">, message);</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // Broadcast the message to all connected clients</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    wss.clients.</span><span style=\"color:#B392F0\">forEach</span><span style=\"color:#E1E4E8\">((</span><span style=\"color:#FFAB70\">client</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      if</span><span style=\"color:#E1E4E8\"> (client </span><span style=\"color:#F97583\">!==</span><span style=\"color:#E1E4E8\"> ws </span><span style=\"color:#F97583\">&#x26;&#x26;</span><span style=\"color:#E1E4E8\"> client.readyState </span><span style=\"color:#F97583\">===</span><span style=\"color:#E1E4E8\"> WebSocket.</span><span style=\"color:#79B8FF\">OPEN</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        client.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(message);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  ws.</span><span style=\"color:#B392F0\">on</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'close'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'A player disconnected'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// Start the server</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">server.</span><span style=\"color:#B392F0\">listen</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  console.</span><span style=\"color:#B392F0\">log</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`Server is running on http://localhost:${</span><span style=\"color:#79B8FF\">PORT</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span></code></pre>\n<hr>\n<h3 id=\"step-3-creating-the-client\">Step 3: Creating the Client</h3>\n<p>In the <code>public</code> folder, create an <code>index.html</code> file with the game interface:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;!</span><span style=\"color:#85E89D\">DOCTYPE</span><span style=\"color:#B392F0\"> html</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">html</span><span style=\"color:#B392F0\"> lang</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"en\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">head</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">meta</span><span style=\"color:#B392F0\"> charset</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"UTF-8\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">meta</span><span style=\"color:#B392F0\"> name</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"viewport\"</span><span style=\"color:#B392F0\"> content</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"width=device-width, initial-scale=1.0\"</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">title</span><span style=\"color:#E1E4E8\">>Tic-Tac-Toe&#x3C;/</span><span style=\"color:#85E89D\">title</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">style</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    #board</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">display</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">grid</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">grid-template-columns</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">repeat</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">3</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">100</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">); </span><span style=\"color:#79B8FF\">grid-gap</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">5</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">; }</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    .cell</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">width</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">100</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">height</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">100</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">display</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">flex</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">justify-content</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">align-items</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">center</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">font-size</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">24</span><span style=\"color:#F97583\">px</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">border</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">1</span><span style=\"color:#F97583\">px</span><span style=\"color:#79B8FF\"> solid</span><span style=\"color:#79B8FF\"> #000</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#79B8FF\">cursor</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#79B8FF\">pointer</span><span style=\"color:#E1E4E8\">; }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">style</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">head</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#85E89D\">body</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">>Tic-Tac-Toe&#x3C;/</span><span style=\"color:#85E89D\">h1</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">div</span><span style=\"color:#B392F0\"> id</span><span style=\"color:#E1E4E8\">=</span><span style=\"color:#9ECBFF\">\"board\"</span><span style=\"color:#E1E4E8\">>&#x3C;/</span><span style=\"color:#85E89D\">div</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> ws</span><span style=\"color:#F97583\"> =</span><span style=\"color:#F97583\"> new</span><span style=\"color:#B392F0\"> WebSocket</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`ws://${</span><span style=\"color:#E1E4E8\">window</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">location</span><span style=\"color:#9ECBFF\">.</span><span style=\"color:#E1E4E8\">host</span><span style=\"color:#9ECBFF\">}`</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    const</span><span style=\"color:#79B8FF\"> board</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> document.</span><span style=\"color:#B392F0\">getElementById</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'board'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // Initialize the game board</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    for</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">let</span><span style=\"color:#E1E4E8\"> i </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> 0</span><span style=\"color:#E1E4E8\">; i </span><span style=\"color:#F97583\">&#x3C;</span><span style=\"color:#79B8FF\"> 9</span><span style=\"color:#E1E4E8\">; i</span><span style=\"color:#F97583\">++</span><span style=\"color:#E1E4E8\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      const</span><span style=\"color:#79B8FF\"> cell</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> document.</span><span style=\"color:#B392F0\">createElement</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'div'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      cell.className </span><span style=\"color:#F97583\">=</span><span style=\"color:#9ECBFF\"> 'cell'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      cell.dataset.index </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> i;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      board.</span><span style=\"color:#B392F0\">appendChild</span><span style=\"color:#E1E4E8\">(cell);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      cell.</span><span style=\"color:#B392F0\">addEventListener</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'click'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ws.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">({ index: i, player: </span><span style=\"color:#9ECBFF\">'X'</span><span style=\"color:#E1E4E8\"> }));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      });</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ws.</span><span style=\"color:#B392F0\">onmessage</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#FFAB70\">event</span><span style=\"color:#E1E4E8\">) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      const</span><span style=\"color:#E1E4E8\"> { </span><span style=\"color:#79B8FF\">index</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#79B8FF\">player</span><span style=\"color:#E1E4E8\"> } </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">parse</span><span style=\"color:#E1E4E8\">(event.data);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      document.</span><span style=\"color:#B392F0\">querySelector</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">`[data-index=\"${</span><span style=\"color:#E1E4E8\">index</span><span style=\"color:#9ECBFF\">}\"]`</span><span style=\"color:#E1E4E8\">).textContent </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> player;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    };</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  &#x3C;/</span><span style=\"color:#85E89D\">script</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">body</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">&#x3C;/</span><span style=\"color:#85E89D\">html</span><span style=\"color:#E1E4E8\">></span></span>\n<span class=\"line\"></span></code></pre>\n<hr>\n<h3 id=\"step-4-syncing-game-states\">Step 4: Syncing Game States</h3>\n<p>The server broadcasts players’ actions to all clients, ensuring the game state stays consistent. Add logic to prevent overwriting cells:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"javascript\"><code><span class=\"line\"><span style=\"color:#6A737D\">// Prevent overwriting cells in the client</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">cell.</span><span style=\"color:#B392F0\">addEventListener</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">'click'</span><span style=\"color:#E1E4E8\">, () </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">cell.textContent) {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ws.</span><span style=\"color:#B392F0\">send</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">JSON</span><span style=\"color:#E1E4E8\">.</span><span style=\"color:#B392F0\">stringify</span><span style=\"color:#E1E4E8\">({ index: i, player: </span><span style=\"color:#9ECBFF\">'X'</span><span style=\"color:#E1E4E8\"> }));</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span></code></pre>\n<hr>\n<h3 id=\"step-5-testing-your-game\">Step 5: Testing Your Game</h3>\n<ol>\n<li>Start the server:\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\"><code><span class=\"line\"><span style=\"color:#B392F0\">node</span><span style=\"color:#9ECBFF\"> server.js</span></span>\n<span class=\"line\"></span></code></pre>\n</li>\n<li>Open two browser tabs at <code>http://localhost:3000</code>.</li>\n<li>Play the game by clicking on cells. Both tabs should sync in real-time.</li>\n</ol>\n<hr>\n<h2 id=\"expanding-the-game\">Expanding the Game</h2>\n<p>Once you’ve mastered the basics, try adding:</p>\n<ul>\n<li><strong>Player turns</strong>: Enforce alternate turns for “X” and “O.”</li>\n<li><strong>Win conditions</strong>: Detect when a player wins or the game ends in a draw.</li>\n<li><strong>Styling and effects</strong>: Make the game visually appealing with CSS or animations.</li>\n</ul>\n<hr>\n<h2 id=\"wrapping-up\">Wrapping Up</h2>\n<p>Building multiplayer games may seem challenging, but with Node.js and WebSockets, you can create real-time experiences with ease. This tic-tac-toe example demonstrates the core concepts of syncing game states and handling player interactions. From here, you can expand into more complex games or add advanced features like matchmaking and leaderboards. Happy coding!</p>";

				const frontmatter = {"title":"Building Multiplayer Games with Node.js and WebSockets: A Beginner’s Guide","description":"Learn how to build a simple multiplayer game with Node.js and WebSockets. This step-by-step guide covers real-time updates, syncing game states, and handling player inputs in games like tic-tac-toe or a chat-based RPG.","pubDate":"2024-9-30","heroImage":"/blog/b91.webp","category":"Game Development","draft":false};
				const file = "C:/Users/PC/Documents/GitHub/0xn1co-portfolio/src/content/blog/multiplayer-nodejs-websockets.md";
				const url = undefined;
				function rawContent() {
					return "\r\nMultiplayer gaming is one of the most exciting aspects of modern game development, but it’s often seen as complex and intimidating. With the right tools, though, creating a real-time multiplayer experience is more achievable than you might think. Enter **Node.js** and **WebSockets**—a powerful combination for building games that sync players’ actions in real-time.\r\n\r\nIn this guide, we’ll walk you through building a simple multiplayer game, explain key concepts like WebSockets, and demonstrate how to sync game states across clients. By the end, you’ll have the skills to create your own multiplayer game from scratch.\r\n\r\n---\r\n\r\n## Why Use Node.js and WebSockets for Multiplayer Games?\r\n\r\nNode.js is a great choice for multiplayer games because it’s event-driven and non-blocking, which makes handling multiple simultaneous connections efficient. WebSockets, on the other hand, enable real-time, bidirectional communication between the server and clients—ideal for keeping players’ actions in sync.\r\n\r\n**Benefits of Node.js and WebSockets**:\r\n- **Real-Time Communication**: Instant updates between players.\r\n- **Scalability**: Handles multiple connections efficiently.\r\n- **Cross-Platform**: Works seamlessly across browsers and devices.\r\n\r\n---\r\n\r\n## Building a Basic Multiplayer Game: Tic-Tac-Toe\r\n\r\nFor this tutorial, we’ll create a simple **tic-tac-toe** game. The goal is to sync the game state between two players in real-time.\r\n\r\n---\r\n\r\n### Step 1: Setting Up Your Environment\r\n\r\nFirst, make sure you have the following installed:\r\n1. **Node.js**: Download and install from [nodejs.org](https://nodejs.org/).\r\n2. **A Code Editor**: Visual Studio Code is recommended.\r\n\r\nCreate a new project and install the required packages:\r\n```bash\r\nmkdir multiplayer-tic-tac-toe\r\ncd multiplayer-tic-tac-toe\r\nnpm init -y\r\nnpm install express ws\r\n```\r\n\r\n---\r\n\r\n### Step 2: Setting Up the Server\r\n\r\nWe’ll use Express for handling static files and **ws** (WebSocket library) for real-time communication. Create a `server.js` file:\r\n\r\n```javascript\r\nconst express = require('express');\r\nconst WebSocket = require('ws');\r\n\r\nconst app = express();\r\nconst server = require('http').createServer(app);\r\nconst wss = new WebSocket.Server({ server });\r\n\r\nconst PORT = 3000;\r\n\r\n// Serve static files\r\napp.use(express.static('public'));\r\n\r\n// Handle WebSocket connections\r\nwss.on('connection', (ws) => {\r\n  console.log('A player connected');\r\n\r\n  ws.on('message', (message) => {\r\n    console.log('Received:', message);\r\n    // Broadcast the message to all connected clients\r\n    wss.clients.forEach((client) => {\r\n      if (client !== ws && client.readyState === WebSocket.OPEN) {\r\n        client.send(message);\r\n      }\r\n    });\r\n  });\r\n\r\n  ws.on('close', () => {\r\n    console.log('A player disconnected');\r\n  });\r\n});\r\n\r\n// Start the server\r\nserver.listen(PORT, () => {\r\n  console.log(`Server is running on http://localhost:${PORT}`);\r\n});\r\n```\r\n\r\n---\r\n\r\n### Step 3: Creating the Client\r\n\r\nIn the `public` folder, create an `index.html` file with the game interface:\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Tic-Tac-Toe</title>\r\n  <style>\r\n    #board { display: grid; grid-template-columns: repeat(3, 100px); grid-gap: 5px; }\r\n    .cell { width: 100px; height: 100px; display: flex; justify-content: center; align-items: center; font-size: 24px; border: 1px solid #000; cursor: pointer; }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>Tic-Tac-Toe</h1>\r\n  <div id=\"board\"></div>\r\n\r\n  <script>\r\n    const ws = new WebSocket(`ws://${window.location.host}`);\r\n    const board = document.getElementById('board');\r\n\r\n    // Initialize the game board\r\n    for (let i = 0; i < 9; i++) {\r\n      const cell = document.createElement('div');\r\n      cell.className = 'cell';\r\n      cell.dataset.index = i;\r\n      board.appendChild(cell);\r\n\r\n      cell.addEventListener('click', () => {\r\n        ws.send(JSON.stringify({ index: i, player: 'X' }));\r\n      });\r\n    }\r\n\r\n    ws.onmessage = (event) => {\r\n      const { index, player } = JSON.parse(event.data);\r\n      document.querySelector(`[data-index=\"${index}\"]`).textContent = player;\r\n    };\r\n  </script>\r\n</body>\r\n</html>\r\n```\r\n\r\n---\r\n\r\n### Step 4: Syncing Game States\r\n\r\nThe server broadcasts players’ actions to all clients, ensuring the game state stays consistent. Add logic to prevent overwriting cells:\r\n```javascript\r\n// Prevent overwriting cells in the client\r\ncell.addEventListener('click', () => {\r\n  if (!cell.textContent) {\r\n    ws.send(JSON.stringify({ index: i, player: 'X' }));\r\n  }\r\n});\r\n```\r\n\r\n---\r\n\r\n### Step 5: Testing Your Game\r\n\r\n1. Start the server:\r\n   ```bash\r\n   node server.js\r\n   ```\r\n2. Open two browser tabs at `http://localhost:3000`.\r\n3. Play the game by clicking on cells. Both tabs should sync in real-time.\r\n\r\n---\r\n\r\n## Expanding the Game\r\n\r\nOnce you’ve mastered the basics, try adding:\r\n- **Player turns**: Enforce alternate turns for \"X\" and \"O.\"\r\n- **Win conditions**: Detect when a player wins or the game ends in a draw.\r\n- **Styling and effects**: Make the game visually appealing with CSS or animations.\r\n\r\n---\r\n\r\n## Wrapping Up\r\n\r\nBuilding multiplayer games may seem challenging, but with Node.js and WebSockets, you can create real-time experiences with ease. This tic-tac-toe example demonstrates the core concepts of syncing game states and handling player interactions. From here, you can expand into more complex games or add advanced features like matchmaking and leaderboards. Happy coding!\r\n";
				}
				function compiledContent() {
					return html;
				}
				function getHeadings() {
					return [{"depth":2,"slug":"why-use-nodejs-and-websockets-for-multiplayer-games","text":"Why Use Node.js and WebSockets for Multiplayer Games?"},{"depth":2,"slug":"building-a-basic-multiplayer-game-tic-tac-toe","text":"Building a Basic Multiplayer Game: Tic-Tac-Toe"},{"depth":3,"slug":"step-1-setting-up-your-environment","text":"Step 1: Setting Up Your Environment"},{"depth":3,"slug":"step-2-setting-up-the-server","text":"Step 2: Setting Up the Server"},{"depth":3,"slug":"step-3-creating-the-client","text":"Step 3: Creating the Client"},{"depth":3,"slug":"step-4-syncing-game-states","text":"Step 4: Syncing Game States"},{"depth":3,"slug":"step-5-testing-your-game","text":"Step 5: Testing Your Game"},{"depth":2,"slug":"expanding-the-game","text":"Expanding the Game"},{"depth":2,"slug":"wrapping-up","text":"Wrapping Up"}];
				}

				const Content = createComponent((result, _props, slots) => {
					const { layout, ...content } = frontmatter;
					content.file = file;
					content.url = url;

					return renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`;
				});

export { Content, compiledContent, Content as default, file, frontmatter, getHeadings, rawContent, url };
