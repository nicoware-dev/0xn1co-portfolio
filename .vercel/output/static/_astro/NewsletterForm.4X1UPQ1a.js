import{j as s}from"./jsx-runtime.7cipUGXE.js";import{r as l}from"./index.lVUL4htz.js";import{t as c}from"./_astro-entry_sonner.CPTfWIH8.js";function f(){const[u,a]=l.useState(""),[r,o]=l.useState(!1),m=async t=>{t.preventDefault(),o(!0);try{const e=new FormData(t.currentTarget),n=await fetch("/api/subscribe",{method:"POST",body:e,headers:{Accept:"application/json"}}),i=await n.json();if(!n.ok)throw new Error(i.error||"Failed to subscribe");c.success(i.message||"Successfully subscribed to newsletter!",{duration:5e3}),a("")}catch(e){c.error(e instanceof Error?e.message:"Failed to subscribe",{duration:5e3}),console.error("Newsletter submission error:",e)}finally{o(!1)}};return s.jsxs("form",{onSubmit:m,className:"newsletter-form",children:[s.jsx("input",{type:"email",name:"email",value:u,onChange:t=>a(t.target.value),placeholder:"Enter your email",required:!0,className:"newsletter-input",disabled:r}),s.jsx("button",{type:"submit",className:"newsletter-button",disabled:r,children:r?"Subscribing...":"Sign Up"})]})}export{f as NewsletterForm};
